\begin{algorithm}
    \caption{Pseudocodice euristica 1}
    \label{alg:euristica-sempl}
    \begin{algorithmic}[1]
        \Require l'istanza da risolvere, composta dai dati $\bar{C}, \bar{G}, \bar{d}, \bar{l}, \bar{m}, \bar{e}, \bar{c}$
        \Ensure il piano degli assegnamenti risultante, quindi il valore delle variabili $\hat{x}$
        \State Siano $\hat{x}$ e $\hat{g}$ le variabili riguardanti il risultato completo
        % \State $\hat{x} \gets \emptyset$
        % \Comment{piano degli assegnamenti attuale}
        % \State $\hat{g} \gets \emptyset$
        % \Comment{energia accumulata dalle facility per ogni time-slot considerato}
        \State $\operatorname{obj} \gets 0$
        % \Comment{valore della soluzione calcolata fino ad ora}
        \State $n \gets -1$
        % \Comment{indice dell'ultimo time-slot dell'istanza generale considerato}
        \State $S \gets \operatorname{split}(\bar{C}, \bar{G}, \bar{d}, \bar{l}, \bar{m}, \bar{e}, \bar{c})$ \label{algo:l:split}
        % \Comment{lista delle sottoistanze}
        \For{$\textbf{all} ~ j \in \{0, \dots, |S|-1\}$}
            \State Siano $j$ considerati in ordine crescente
            \State $(t, C, G, d, l, m, e, c) \gets S[j]$ \label{algo:l:dati1}
            \If{$j = 0$} \label{algo:l:p1}
                \State $p_k \gets 0 ~ \forall k \in K$
            \Else
                \State $p_k \gets \hat{g}^n_k ~ \forall k \in K$
            \EndIf
            \State $(x, g, s) \gets \operatorname{calcola\_assegnamenti}(C, G, d, l, m, e, c, p)$ \label{algo:l:calcola-ass}
            \State \{calcolo dei costi di migrazione\}
            \State $\operatorname{costo\_migrazione} \gets 0$
            \If{$j > 0$}
                \For{$\textbf{all} ~ i \in A$} \label{algo:l:costi-migr1}
                \State $k_{\operatorname{prec}} \gets \underset{k \in K}{\arg\max} ~ \hat{x}^n_{ik}$
                \State $k_{\operatorname{succ}} \gets \underset{k \in K}{\arg\max} ~ x^0_{ik}$
                    \If{$k_{\operatorname{prec}} \neq k_{\operatorname{succ}}$}
                        \State $\operatorname{costo\_migrazione} \gets \operatorname{costo\_migrazione} ~ + ~ \bar{d}^n_i \cdot l_{k_{\operatorname{prev}} k_{\operatorname{succ}}}$
                    \EndIf
                \EndFor
            \EndIf
            \State \{incremento del valore della funzione obbiettivo\}
            \State $\operatorname{obj\_rec} \gets \operatorname{fo}(d, m, c, x, z, s) - \sum_{u \in \{0, \dots, t-1\}}\sum_{k \in K} s^u_k$ \label{algo:l:obj1}
            \State $\operatorname{obj} \gets \operatorname{obj} + \operatorname{obj\_rec}  ~ + ~ \alpha \cdot \operatorname{costo\_migrazione}$
            \State \{composizione del risultato complessivo\}
            \State $\hat{x} \gets \hat{x} \cup x$ \label{algo:l:acc1}
            \State $\hat{g} \gets \hat{g} \cup g$
            \State $n \gets n + t$
        \EndFor
    \end{algorithmic}
\end{algorithm}
